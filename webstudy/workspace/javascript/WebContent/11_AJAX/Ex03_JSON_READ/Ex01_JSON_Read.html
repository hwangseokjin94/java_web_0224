<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="../../assets/lib/json2.js" type="text/javascript"></script>
<script type="text/javascript">

	onload = () => {
		
		var xhr = new XMLHttpRequest();
		xhr.open('GET', 'DATA.json', true);
		xhr.send();
		xhr.onreadystatechange = () => {
			if ( xhr.readyState == 4 ) {
				if ( xhr.status == 200 ) {
					
					// 1. xhr.responseText : 문자열 형식의 JSON 데이터
					// 2. JSON.parse(xhr.responseText) : 사용 가능한 객체로 변환된 데이터
					
					var data = JSON.parse( xhr.responseText );
					
					var message = '<ul>';
					for ( var p in data ) {
						message += '<li>' + data[p] + '</li>';
					}
					/* 위의 for - in 문과 동일한 코드
					message += '<li>' + data.name + '</li>';
					message += '<li>' + data.age + '</li>';
					message += '<li>' + data.address + '</li>';
					message += '<li>' + data.phone + '</li>';
					*/
					message += '</ul>';
					
					document.body.innerHTML = message;
					
					
					// JSON.parse 가 정상 동작하지 않는 경우(IE 7.0 이하)
					
					// 1. eval() 사용
					//    1) eval('1 + 2') : 결과가 3 이다.
					//    2) eval('{"name":"앨리스"}') : {"name":"앨리스"} 이다.
					//    3) var data = eval( xhr.responseText );
					//    4) 보안 이슈로 사용 자제 중이다.
					
					// 2. json.org 화면 하단 JavaScript 의 목록 중 json2.js 포함
					//    1) json2.js 다운로드 받는다.
					//    2) <script src="json2.js">... 를 추가한다.
					
					
				}
			}
		}
		
	}

</script>
</head>
<body>
	
</body>
</html>