<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">

	// 1. 생성자 함수 정의
	function Student(name, kor, eng, mat) {
		
		this.name = name;
		this.kor = kor;
		this.eng = eng;
		this.mat = mat;
		
		
		// 객체마다 function() 을 포함하는 것은 "공간 낭비"이므로
		// 공용 공간인 prototype 프로퍼티에 저장한다.
		this.__proto__.getAverage = function () {
			return (this.kor + this.eng + this.mat) / 3;
		};
		
		this.__proto__.getGrade = function () {
			if ( this.getAverage() >= 90 ) {
				return 'A';
			} else if ( this.getAverage() >= 80 ) {
				return 'B';
			} else if ( this.getAverage() >= 70 ) {
				return 'C';
			} else if ( this.getAverage() >= 60 ) {
				return 'D';
			} else {
				return 'F';
			}
		}
		
	}

	
	// 2. students 배열에 student 객체 3개 저장하기
	students = [];
	
	students.push( new Student('앨리스', 90, 92, 93) );
	students.push( new Student('제임스', 80, 82, 83) );
	students.push( new Student('데이빗', 70, 72, 73) );
	
	
	// 3. students 배열 확인
	for ( i = 0, len = students.length; i < len; i++ ) {
		document.write('이름: ' + students[i].name + '<br/>');
		document.write('국영수: ' + students[i].kor + ', ' + students[i].eng + ', ' + students[i].mat+ '<br/>');
		document.write('평균: ' + students[i].getAverage() + ', 학점; ' + students[i].getGrade() + '학점<br/>');
	}
	
	for ( i = 0, len = students.length; i < len; i++ ) {
		// with 문을 활용해서 객체명을 한 번만 작성할 수 있다.
		with(students[i]) {
			document.write('이름: ' + name + '<br/>');
			document.write('국영수: ' + kor + ', ' + eng + ', ' + mat+ '<br/>');
			document.write('평균: ' + getAverage() + ', 학점; ' + getGrade() + '학점<br/>');
		}
	}
	
</script>
</head>
<body>

</body>
</html>